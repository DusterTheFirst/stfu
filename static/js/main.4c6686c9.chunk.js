(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{77:function(e,n,t){e.exports=t(92)},92:function(e,n,t){"use strict";t.r(n);var a=t(10),l=t(66),r=t.n(l),c=t(0),o=t.n(c),i=t(67),u=t.n(i),m=t(22),d=t(8),s=t(23),E=t(21),h="http".concat("s","://").concat("stfu-backend.dusterthefirst.com","/graphql"),f="https://cdn.discordapp.com/";function v(e){var n=e.refetch,t=e.error;return null!==t.networkError&&401===t.networkError.statusCode?o.a.createElement("div",null,o.a.createElement("h1",null,"Unauthenticated"),o.a.createElement("p",null,"You have to log in to access this page"),o.a.createElement("a",{href:"//".concat("stfu-backend.dusterthefirst.com","/oauth/login?from=").concat(encodeURIComponent(window.location.href))},"Login")):o.a.createElement("div",null,o.a.createElement("h1",null,"Error :("),o.a.createElement("button",{onClick:n},"Retry"),o.a.createElement("pre",null,JSON.stringify(t,void 0,4)))}var g=t(76);function b(e){var n=e.source,t=Object(g.a)(e,["source"]),a=Object(c.useState)(!1),l=Object(s.a)(a,2),r=l[0],i=l[1];return o.a.createElement("img",Object.assign({},t,{alt:t.alt,src:n(r),onMouseEnter:i.bind(i,!0),onMouseLeave:i.bind(i,!1)}))}function p(e){var n=e.refetch;return o.a.createElement("div",null,o.a.createElement("h1",null,"Loading..."),o.a.createElement("button",{onClick:n},"Retry"))}function O(){return o.a.createElement("b",null,"Loading...")}function y(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null===e.icon?void 0:"".concat(f,"icons/").concat(e.id,"/").concat(e.icon,".").concat(e.icon.startsWith("a_")&&n?"gif":"webp")}function w(){var e=Object(E.a)(["\n    mutation UnmuteAll($channel_id: String!, $guild_id: String!) {\n        unmute(channelId: $channel_id, guildId: $guild_id)\n    }\n"]);return w=function(){return e},e}function k(){var e=Object(E.a)(["\n    mutation MuteAll($channel_id: String!, $guild_id: String!) {\n        mute(channelId: $channel_id, guildId: $guild_id)\n    }\n"]);return k=function(){return e},e}function S(){var e=Object(E.a)(["\n    query GetChannel($guild_id: String!, $channel_id: String!) {\n        guild(id: $guild_id) {\n            name\n            id\n            voiceChannel(id: $channel_id) {\n                canOperate\n                category {\n                    id\n                    name\n                    position\n                }\n                id\n                name\n                position\n                states {\n                    channelId\n                    deaf\n                    mute\n                    selfDeaf\n                    selfMute\n                    id\n                    member {\n                        avatar\n                        bot\n                        color\n                        discriminator\n                        id\n                        joinedAt\n                        mute\n                        name\n                        nick\n                    }\n                }\n                userLimit\n            }\n        }\n    }\n"]);return S=function(){return e},e}var j=Object(a.gql)(S()),C=Object(a.gql)(k()),_=Object(a.gql)(w());function G(){var e=Object(d.f)(),n=e.guild_id,t=e.channel_id,l=Object(a.useQuery)(j,{notifyOnNetworkStatusChange:!0,pollInterval:15e3,variables:{channel_id:t,guild_id:n}}),r=l.loading,c=l.error,i=l.data,u=l.refetch,m=Object(a.useMutation)(C,{notifyOnNetworkStatusChange:!0,variables:{channel_id:t,guild_id:n}}),E=Object(s.a)(m,1)[0],h=Object(a.useMutation)(_,{notifyOnNetworkStatusChange:!0,variables:{channel_id:t,guild_id:n}}),f=Object(s.a)(h,1)[0],g=function(){u().catch((function(e){return console.error(e)}))};if(r&&void 0===i)return o.a.createElement(p,{refetch:g});if(void 0!==c)return o.a.createElement(v,{error:c,refetch:g});var b=i.guild;if(null===b)return o.a.createElement("div",null,o.a.createElement("h1",null,"The guild with id ",n," does not exist or is not available to the bot"));var y=b.voiceChannel;return null===y?o.a.createElement("div",null,o.a.createElement("h1",null,"The channel with id ",t," does not exist, is not a voice channel, or is not available to the bot")):o.a.createElement(o.a.Fragment,null,r?o.a.createElement(O,null):void 0,o.a.createElement(M,{guild:b,channel:y,refetch:g,muteAll:E,unmuteAll:f}),o.a.createElement("pre",null,JSON.stringify(i,void 0,4)))}function M(e){var n=e.guild,t=e.channel,a=e.refetch,l=e.muteAll,r=e.unmuteAll;return o.a.createElement("div",null,o.a.createElement("div",null,"/ ",o.a.createElement(m.b,{to:"/"},"Home")," / ",o.a.createElement(m.b,{to:"/".concat(n.id)},n.name)," / ",t.name," "),o.a.createElement("button",{onClick:a},"Refresh"),o.a.createElement("div",null,o.a.createElement("button",{onClick:l.bind(l)},"Mute"),o.a.createElement("button",{onClick:r.bind(r)},"Unmute")),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Position"),o.a.createElement("th",null,"Can operate"),o.a.createElement("th",null,"User Limit"),o.a.createElement("th",null,"User Count"),o.a.createElement("th",null,"Users"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,t.name),o.a.createElement("td",null,t.position),o.a.createElement("td",null,t.canOperate.toString()),o.a.createElement("td",null,t.userLimit),o.a.createElement("td",null,t.states.length),o.a.createElement("td",null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Avatar"),o.a.createElement("th",null,"Id"),o.a.createElement("th",null,"Server Mute"),o.a.createElement("th",null,"Server Deaf"),o.a.createElement("th",null,"Self Mute"),o.a.createElement("th",null,"Self Deaf"))),o.a.createElement("tbody",null,t.states.map((function(e,n){return o.a.createElement("tr",{key:n},o.a.createElement("td",{style:{color:"#".concat(null===e.member.color?"000000":e.member.color.toString(16)),fontWeight:"bold"}},e.member.name,"#",e.member.discriminator,null===e.member.nick?void 0:" (".concat(e.member.nick,")")),o.a.createElement("td",null,o.a.createElement(b,{source:function(n){return"".concat(function(e){var n,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null===e.avatar?"".concat(f,"embed/avatars/").concat(parseInt(e.discriminator,10)%5,".png"):"".concat(f,"avatars/").concat(e.id,"/").concat(e.avatar,".").concat((null===(n=e.avatar)||void 0===n?void 0:n.startsWith("a_"))&&t?"gif":"webp")}(e.member,n),"?size=64")},alt:"".concat(e.member.name,"'s avatar")})),o.a.createElement("td",null,e.member.id),o.a.createElement("td",null,e.mute.toString()),o.a.createElement("td",null,e.deaf.toString()),o.a.createElement("td",null,e.selfMute.toString()),o.a.createElement("td",null,e.selfDeaf.toString()))})))))))))}function N(){var e=Object(E.a)(["\n    query GetGuild($guild_id: String!) {\n        guild(id: $guild_id) {\n            name,\n            id,\n            icon\n            banner\n            owner {\n                id\n                name\n                avatar\n                color\n                nick\n                discriminator\n            }\n            unavailable\n            voiceChannels {\n                canOperate\n                category {\n                    id\n                    name\n                    position\n                }\n                id\n                name\n                position\n                states {\n                    deaf\n                    id\n                    channelId\n                    member {\n                        id\n                        name\n                        avatar\n                        color\n                        nick\n                        discriminator\n                    }\n                    mute\n                }\n                userLimit\n            }\n        }\n    }\n"]);return N=function(){return e},e}var I=Object(a.gql)(N());function $(){var e=Object(d.f)().guild_id,n=Object(a.useQuery)(I,{variables:{guild_id:e},notifyOnNetworkStatusChange:!0}),t=n.loading,l=n.error,r=n.data,c=n.refetch,i=function(){c().catch((function(e){return console.error(e)}))};if(t&&void 0===r)return o.a.createElement(p,{refetch:i});if(void 0!==l)return o.a.createElement(v,{error:l,refetch:i});var u=r.guild;return null===u?o.a.createElement("div",null,o.a.createElement("h1",null,"The guild with id ",e," does not exist or is not available to the bot")):o.a.createElement(o.a.Fragment,null,t?o.a.createElement(O,null):void 0,o.a.createElement(x,{guild:u,refetch:i}),o.a.createElement("pre",null,JSON.stringify(r,void 0,4)))}function x(e){var n=e.guild,t=e.refetch,a=Object(c.useMemo)((function(){return Array.from(n.voiceChannels.reduce((function(e,n){var t=e.get(n.category);return void 0===t&&(t=[]),t.push(n),e.set(n.category,t),e}),new Map).entries()).sort((function(e,n){var t=Object(s.a)(e,1)[0],a=Object(s.a)(n,1)[0];return(void 0===(null===t||void 0===t?void 0:t.position)?-1:t.position)-(void 0===(null===a||void 0===a?void 0:a.position)?-1:null===a||void 0===a?void 0:a.position)})).map((function(e){var n=Object(s.a)(e,2);return[n[0],n[1].sort((function(e,n){return e.position-n.position}))]}))}),[n.voiceChannels]);return o.a.createElement("div",null,o.a.createElement("div",null,"/ ",o.a.createElement(m.b,{to:"/"},"Home")," / ",n.name),o.a.createElement("button",{onClick:t},"Refresh"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Property"),o.a.createElement("th",null,"Value"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,"Guild name:"),o.a.createElement("td",null,n.name)),o.a.createElement("tr",null,o.a.createElement("td",null,"Guild id:"),o.a.createElement("td",null,n.id)),o.a.createElement("tr",null,o.a.createElement("td",null,"Guild owner:"),o.a.createElement("td",{style:{color:"#".concat(null===n.owner.color?"000000":n.owner.color.toString(16)),fontWeight:"bold"}},null===n.owner.nick?n.owner.name:n.owner.nick,"#",n.owner.discriminator)),o.a.createElement("tr",null,o.a.createElement("td",null,"Voice categories:"),o.a.createElement("td",null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name:"),o.a.createElement("th",null,"Position:"),o.a.createElement("th",null,"Voice channels:"))),o.a.createElement("tbody",null,a.map((function(e,t){var a=Object(s.a)(e,2),l=a[0],r=a[1];return o.a.createElement("tr",{key:t},o.a.createElement("td",null,void 0===(null===l||void 0===l?void 0:l.name)?"No Category":l.name),o.a.createElement("td",null,void 0===(null===l||void 0===l?void 0:l.position)?-1:l.position),o.a.createElement("td",null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Position"),o.a.createElement("th",null,"Can operate"),o.a.createElement("th",null,"User Limit"),o.a.createElement("th",null,"User Count"),o.a.createElement("th",null,"Users"))),o.a.createElement("tbody",null,r.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,o.a.createElement(m.b,{to:"/".concat(n.id,"/").concat(e.id)},e.name)),o.a.createElement("td",null,e.position),o.a.createElement("td",null,e.canOperate.toString()),o.a.createElement("td",null,e.userLimit),o.a.createElement("td",null,e.states.length),o.a.createElement("td",null,e.states.map((function(e){return"".concat(e.member.name,"#").concat(e.member.discriminator)})).join(", ")))}))))))})))))),o.a.createElement("tr",null,o.a.createElement("td",null,"Guild icon:"),o.a.createElement("td",null,o.a.createElement("img",{src:y(n),alt:"Guild icon"}))))))}var A=t(75);function U(){var e=Object(E.a)(["\n    query GetSharedGuilds {\n        sharedGuilds {\n            icon\n            id\n            name\n            owner {\n                id\n                discriminator\n                name\n                nick\n                color\n            }\n            voiceChannels {\n                canOperate\n            }\n            me {\n                id\n                discriminator\n                name\n                nick\n                color\n            }\n        }\n    }\n"]);return U=function(){return e},e}var L=Object(a.gql)(U());function q(){var e=Object(a.useQuery)(L,{notifyOnNetworkStatusChange:!0}),n=e.loading,t=e.error,l=e.data,r=e.refetch,c=function(){r().catch((function(e){return console.error(e)}))};if(n&&void 0===l)return o.a.createElement(p,{refetch:c});if(void 0!==t)return o.a.createElement(v,{error:t,refetch:c});var i=l.sharedGuilds;return o.a.createElement(o.a.Fragment,null,n?o.a.createElement(O,null):void 0,o.a.createElement(W,{guilds:i,refetch:c}),o.a.createElement("pre",null,JSON.stringify(l,void 0,4)))}function W(e){var n=e.guilds,t=e.refetch;return o.a.createElement("div",null,o.a.createElement("div",null,"/ Home"),o.a.createElement("button",{onClick:t},"Refresh"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Guild Name"),o.a.createElement("th",null,"Guild Icon"),o.a.createElement("th",null,"Guild Id"),o.a.createElement("th",null,"Guild Owner"),o.a.createElement("th",null,"You"),o.a.createElement("th",null,"Operable"))),o.a.createElement("tbody",null,Object(A.a)(n).sort((function(e,n){return e.name.localeCompare(n.name)})).map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,o.a.createElement(m.b,{to:"/".concat(e.id)},e.name)),o.a.createElement("td",null,o.a.createElement("img",{src:y(e),alt:"Guild icon"})),o.a.createElement("td",null,e.id),o.a.createElement("td",{style:{color:"#".concat(null===e.owner.color?"000000":e.owner.color.toString(16)),fontWeight:"bold"}},null===e.owner.nick?e.owner.name:e.owner.nick,"#",e.owner.discriminator),o.a.createElement("td",{style:{color:"#".concat(null===e.me.color?"000000":e.me.color.toString(16)),fontWeight:"bold"}},null===e.me.nick?e.me.name:e.me.nick,"#",e.me.discriminator),o.a.createElement("td",null,e.voiceChannels.some((function(e){return e.canOperate})).toString()))})))))}var R=function(){return o.a.createElement(m.a,null,o.a.createElement("div",null,o.a.createElement(d.c,null,o.a.createElement(d.a,{path:"/:guild_id",exact:!0},o.a.createElement($,null)),o.a.createElement(d.a,{path:"/:guild_id/:channel_id",exact:!0},o.a.createElement(G,null)),o.a.createElement(d.a,{path:"/",exact:!0},o.a.createElement(q,null)),o.a.createElement(d.a,{path:"*"},o.a.createElement("pre",null,"404")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=t(71);function J(){var e=Object(E.a)(["\n    body {\n        margin: 0;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n            sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    code {\n        font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n            monospace;\n    }\n\n    table {\n        border: 2px solid black;\n        width: 100%;\n\n        td {\n            border: 2px solid black;\n            text-align: center;\n        }\n        th {\n            background: black;\n            color: white;\n            text-align: center;\n        }\n    }\n"]);return J=function(){return e},e}var D=Object(F.a)(J()),P=new a.ApolloClient({cache:new a.InMemoryCache({dataIdFromObject:function(e){return r()(e)}}),credentials:"include",headers:{Accept:"application/json"},name:"stfu",uri:h});u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(D,null),o.a.createElement(a.ApolloProvider,{client:P},o.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.4c6686c9.chunk.js.map