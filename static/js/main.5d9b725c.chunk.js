(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{77:function(e,n,t){e.exports=t(92)},92:function(e,n,t){"use strict";t.r(n);var a=t(10),l=t(66),r=t.n(l),i=t(0),o=t.n(i),c=t(67),u=t.n(c),m=t(22),s=t(8),d="stfu-backend.dusterthefirst.com",E="http".concat("s","://").concat(d,"/graphql"),h="https://cdn.discordapp.com/",g=t(23),v=t(21);function f(e){var n=e.refetch,t=e.error;return null!==t.networkError&&401===t.networkError.statusCode?o.a.createElement("div",null,o.a.createElement("h1",null,"Unauthenticated"),o.a.createElement("p",null,"You have to log in to access this page"),o.a.createElement("a",{href:"//".concat(d,"/oauth/login?from=").concat(encodeURIComponent(window.location.href))},"Login")):o.a.createElement("div",null,o.a.createElement("h1",null,"Error :("),o.a.createElement("button",{onClick:n},"Retry"),o.a.createElement("pre",null,JSON.stringify(t,void 0,4)))}var b=t(76);function p(e){var n=e.source,t=Object(b.a)(e,["source"]),a=Object(i.useState)(!1),l=Object(g.a)(a,2),r=l[0],c=l[1];return o.a.createElement("img",Object.assign({},t,{alt:t.alt,src:n(r),onMouseEnter:c.bind(c,!0),onMouseLeave:c.bind(c,!1)}))}function y(e){var n=e.refetch;return o.a.createElement("div",null,o.a.createElement("h1",null,"Loading..."),o.a.createElement("button",{onClick:n},"Retry"))}function w(){return o.a.createElement("b",null,"Loading...")}function O(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null===e.icon?void 0:"".concat(h,"icons/").concat(e.id,"/").concat(e.icon,".").concat(e.icon.startsWith("a_")&&n?"gif":"png")}function k(){var e=Object(v.a)(["\n    mutation UnmuteAll($channel_id: String!, $guild_id: String!) {\n        unmute(channelId: $channel_id, guildId: $guild_id)\n    }\n"]);return k=function(){return e},e}function j(){var e=Object(v.a)(["\n    mutation MuteAll($channel_id: String!, $guild_id: String!) {\n        mute(channelId: $channel_id, guildId: $guild_id)\n    }\n"]);return j=function(){return e},e}function M(){var e=Object(v.a)(["\n    query GetChannel($guild_id: String!, $channel_id: String!) {\n        guild(id: $guild_id) {\n            name\n            id\n            voiceChannel(id: $channel_id) {\n                botMissingPermissions\n                userMissingPermissions\n                category {\n                    id\n                    name\n                    position\n                }\n                id\n                name\n                position\n                states {\n                    channelId\n                    deaf\n                    mute\n                    selfDeaf\n                    selfMute\n                    id\n                    member {\n                        avatar\n                        bot\n                        color\n                        discriminator\n                        id\n                        joinedAt\n                        mute\n                        name\n                        nick\n                    }\n                }\n                userLimit\n            }\n        }\n    }\n"]);return M=function(){return e},e}var S=Object(a.gql)(M()),C=Object(a.gql)(j()),_=Object(a.gql)(k());function P(){var e=Object(s.f)(),n=e.guild_id,t=e.channel_id,l=Object(a.useQuery)(S,{notifyOnNetworkStatusChange:!0,pollInterval:6e4,variables:{channel_id:t,guild_id:n}}),r=l.loading,i=l.error,c=l.data,u=l.refetch,m=Object(a.useMutation)(C,{notifyOnNetworkStatusChange:!0,variables:{channel_id:t,guild_id:n}}),d=Object(g.a)(m,1)[0],E=Object(a.useMutation)(_,{notifyOnNetworkStatusChange:!0,variables:{channel_id:t,guild_id:n}}),h=Object(g.a)(E,1)[0],v=function(){u().catch((function(e){return console.error(e)}))};if(r&&void 0===c)return o.a.createElement(y,{refetch:v});if(void 0!==i)return o.a.createElement(f,{error:i,refetch:v});var b=c.guild;if(null===b)return o.a.createElement("div",null,o.a.createElement("h1",null,"The guild with id ",n," does not exist or is not available to the bot"));var p=b.voiceChannel;return null===p?o.a.createElement("div",null,o.a.createElement("h1",null,"The channel with id ",t," does not exist, is not a voice channel, or is not available to the bot")):o.a.createElement(o.a.Fragment,null,r?o.a.createElement(w,null):void 0,o.a.createElement(I,{guild:b,channel:p,refetch:v,muteAll:d,unmuteAll:h}),o.a.createElement("pre",null,JSON.stringify(c,void 0,4)))}function I(e){var n,t,a,l,r=e.guild,i=e.channel,c=e.refetch,u=e.muteAll,s=e.unmuteAll,d=null===i.botMissingPermissions&&null===i.userMissingPermissions;return o.a.createElement("div",null,o.a.createElement("div",null,"/ ",o.a.createElement(m.b,{to:"/"},"Home")," / ",o.a.createElement(m.b,{to:"/".concat(r.id)},r.name)," / ",i.name," "),o.a.createElement("button",{onClick:c},"Refresh"),o.a.createElement("div",null,null===i.botMissingPermissions?void 0:o.a.createElement("div",null,"The bot is unable to perform actions on this channel. You are missing the following permissions on the channel: ",null===(n=i.botMissingPermissions)||void 0===n?void 0:n.join(", ")),null===i.userMissingPermissions?void 0:o.a.createElement("div",null,"You are unable to perform actions on this channel. You are missing the following permissions on this channel: ",null===(t=i.userMissingPermissions)||void 0===t?void 0:t.join(", ")),o.a.createElement("button",{onClick:u.bind(u),disabled:!d},"Mute"),o.a.createElement("button",{onClick:s.bind(s),disabled:!d},"Unmute")),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Position"),o.a.createElement("th",null,"Bot Missing Permissions"),o.a.createElement("th",null,"User Missing Permissions"),o.a.createElement("th",null,"User Limit"),o.a.createElement("th",null,"User Count"),o.a.createElement("th",null,"Users"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,i.name),o.a.createElement("td",null,i.position),o.a.createElement("td",null,null===(a=i.botMissingPermissions)||void 0===a?void 0:a.join(", ")),o.a.createElement("td",null,null===(l=i.userMissingPermissions)||void 0===l?void 0:l.join(", ")),o.a.createElement("td",null,i.userLimit),o.a.createElement("td",null,i.states.length),o.a.createElement("td",null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Avatar"),o.a.createElement("th",null,"Id"),o.a.createElement("th",null,"Server Mute"),o.a.createElement("th",null,"Server Deaf"),o.a.createElement("th",null,"Self Mute"),o.a.createElement("th",null,"Self Deaf"))),o.a.createElement("tbody",null,i.states.map((function(e,n){return o.a.createElement("tr",{key:n},o.a.createElement("td",{style:{color:"#".concat(null===e.member.color?"000000":e.member.color.toString(16)),fontWeight:"bold"}},e.member.name,"#",e.member.discriminator,null===e.member.nick?void 0:" (".concat(e.member.nick,")")),o.a.createElement("td",null,o.a.createElement(p,{source:function(n){return"".concat(function(e){var n,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null===e.avatar?"".concat(h,"embed/avatars/").concat(parseInt(e.discriminator,10)%5,".png"):"".concat(h,"avatars/").concat(e.id,"/").concat(e.avatar,".").concat((null===(n=e.avatar)||void 0===n?void 0:n.startsWith("a_"))&&t?"gif":"png")}(e.member,n),"?size=64")},alt:"".concat(e.member.name,"'s avatar")})),o.a.createElement("td",null,e.member.id),o.a.createElement("td",null,e.mute.toString()),o.a.createElement("td",null,e.deaf.toString()),o.a.createElement("td",null,e.selfMute.toString()),o.a.createElement("td",null,e.selfDeaf.toString()))})))))))))}function G(){var e=Object(v.a)(["\n    query GetGuild($guild_id: String!) {\n        guild(id: $guild_id) {\n            name,\n            id,\n            icon\n            banner\n            owner {\n                id\n                name\n                avatar\n                color\n                nick\n                discriminator\n            }\n            unavailable\n            voiceChannels {\n                botMissingPermissions\n                userMissingPermissions\n                category {\n                    id\n                    name\n                    position\n                }\n                id\n                name\n                position\n                states {\n                    deaf\n                    id\n                    channelId\n                    member {\n                        id\n                        name\n                        avatar\n                        color\n                        nick\n                        discriminator\n                    }\n                    mute\n                }\n                userLimit\n            }\n        }\n    }\n"]);return G=function(){return e},e}var N=Object(a.gql)(G());function U(){var e=Object(s.f)().guild_id,n=Object(a.useQuery)(N,{variables:{guild_id:e},notifyOnNetworkStatusChange:!0,pollInterval:6e4}),t=n.loading,l=n.error,r=n.data,i=n.refetch,c=function(){i().catch((function(e){return console.error(e)}))};if(t&&void 0===r)return o.a.createElement(y,{refetch:c});if(void 0!==l)return o.a.createElement(f,{error:l,refetch:c});var u=r.guild;return null===u?o.a.createElement("div",null,o.a.createElement("h1",null,"The guild with id ",e," does not exist or is not available to the bot")):o.a.createElement(o.a.Fragment,null,t?o.a.createElement(w,null):void 0,o.a.createElement($,{guild:u,refetch:c}),o.a.createElement("pre",null,JSON.stringify(r,void 0,4)))}function $(e){var n=e.guild,t=e.refetch,a=Object(i.useMemo)((function(){return Array.from(n.voiceChannels.reduce((function(e,n){var t=e.get(n.category);return void 0===t&&(t=[]),t.push(n),e.set(n.category,t),e}),new Map).entries()).sort((function(e,n){var t=Object(g.a)(e,1)[0],a=Object(g.a)(n,1)[0];return(void 0===(null===t||void 0===t?void 0:t.position)?-1:t.position)-(void 0===(null===a||void 0===a?void 0:a.position)?-1:null===a||void 0===a?void 0:a.position)})).map((function(e){var n=Object(g.a)(e,2);return[n[0],n[1].sort((function(e,n){return e.position-n.position}))]}))}),[n.voiceChannels]);return o.a.createElement("div",null,o.a.createElement("div",null,"/ ",o.a.createElement(m.b,{to:"/"},"Home")," / ",n.name),o.a.createElement("button",{onClick:t},"Refresh"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Property"),o.a.createElement("th",null,"Value"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,"Guild name:"),o.a.createElement("td",null,n.name)),o.a.createElement("tr",null,o.a.createElement("td",null,"Guild id:"),o.a.createElement("td",null,n.id)),o.a.createElement("tr",null,o.a.createElement("td",null,"Guild owner:"),o.a.createElement("td",{style:{color:"#".concat(null===n.owner.color?"000000":n.owner.color.toString(16)),fontWeight:"bold"}},null===n.owner.nick?n.owner.name:n.owner.nick,"#",n.owner.discriminator)),o.a.createElement("tr",null,o.a.createElement("td",null,"Voice categories:"),o.a.createElement("td",null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name:"),o.a.createElement("th",null,"Position:"),o.a.createElement("th",null,"Voice channels:"))),o.a.createElement("tbody",null,a.map((function(e,t){var a=Object(g.a)(e,2),l=a[0],r=a[1];return o.a.createElement("tr",{key:t},o.a.createElement("td",null,void 0===(null===l||void 0===l?void 0:l.name)?"No Category":l.name),o.a.createElement("td",null,void 0===(null===l||void 0===l?void 0:l.position)?-1:l.position),o.a.createElement("td",null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Position"),o.a.createElement("th",null,"Bot Missing Permissions"),o.a.createElement("th",null,"User Missing Permissions"),o.a.createElement("th",null,"User Limit"),o.a.createElement("th",null,"User Count"),o.a.createElement("th",null,"Users"))),o.a.createElement("tbody",null,r.map((function(e,t){var a,l;return o.a.createElement("tr",{key:t},o.a.createElement("td",null,o.a.createElement(m.b,{to:"/".concat(n.id,"/").concat(e.id)},e.name)),o.a.createElement("td",null,e.position),o.a.createElement("td",null,null===(a=e.botMissingPermissions)||void 0===a?void 0:a.join(", ")),o.a.createElement("td",null,null===(l=e.userMissingPermissions)||void 0===l?void 0:l.join(", ")),o.a.createElement("td",null,e.userLimit),o.a.createElement("td",null,e.states.length),o.a.createElement("td",null,e.states.map((function(e){return"".concat(e.member.name,"#").concat(e.member.discriminator)})).join(", ")))}))))))})))))),o.a.createElement("tr",null,o.a.createElement("td",null,"Guild icon:"),o.a.createElement("td",null,o.a.createElement("img",{src:O(n),alt:"Guild icon"}))))))}var x=t(75);function A(){var e=Object(v.a)(["\n    query GetSharedGuilds {\n        sharedGuilds {\n            icon\n            id\n            name\n            owner {\n                id\n                discriminator\n                name\n                nick\n                color\n            }\n            voiceChannels {\n                userMissingPermissions\n                botMissingPermissions\n            }\n            me {\n                id\n                discriminator\n                name\n                nick\n                color\n            }\n        }\n    }\n"]);return A=function(){return e},e}var L=Object(a.gql)(A());function q(){var e=Object(a.useQuery)(L,{notifyOnNetworkStatusChange:!0,pollInterval:6e4}),n=e.loading,t=e.error,l=e.data,r=e.refetch,i=function(){r().catch((function(e){return console.error(e)}))};if(n&&void 0===l)return o.a.createElement(y,{refetch:i});if(void 0!==t)return o.a.createElement(f,{error:t,refetch:i});var c=l.sharedGuilds;return o.a.createElement(o.a.Fragment,null,n?o.a.createElement(w,null):void 0,o.a.createElement(R,{guilds:c,refetch:i}),o.a.createElement("pre",null,JSON.stringify(l,void 0,4)))}function R(e){var n=e.guilds,t=e.refetch;return o.a.createElement("div",null,o.a.createElement("div",null,"/ Home"),o.a.createElement("button",{onClick:t},"Refresh"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Guild Name"),o.a.createElement("th",null,"Guild Icon"),o.a.createElement("th",null,"Guild Id"),o.a.createElement("th",null,"Guild Owner"),o.a.createElement("th",null,"You"),o.a.createElement("th",null,"Bot Operable"),o.a.createElement("th",null,"User Operable"))),o.a.createElement("tbody",null,Object(x.a)(n).sort((function(e,n){return e.name.localeCompare(n.name)})).map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,o.a.createElement(m.b,{to:"/".concat(e.id)},e.name)),o.a.createElement("td",null,o.a.createElement("img",{src:O(e),alt:"Guild icon"})),o.a.createElement("td",null,e.id),o.a.createElement("td",{style:{color:"#".concat(null===e.owner.color?"000000":e.owner.color.toString(16)),fontWeight:"bold"}},null===e.owner.nick?e.owner.name:e.owner.nick,"#",e.owner.discriminator),o.a.createElement("td",{style:{color:"#".concat(null===e.me.color?"000000":e.me.color.toString(16)),fontWeight:"bold"}},null===e.me.nick?e.me.name:e.me.nick,"#",e.me.discriminator),o.a.createElement("td",null,e.voiceChannels.some((function(e){return null===e.botMissingPermissions})).toString()),o.a.createElement("td",null,e.voiceChannels.some((function(e){return null===e.userMissingPermissions})).toString()))})))))}var W=function(){return o.a.createElement(m.a,null,o.a.createElement("div",null,o.a.createElement("a",{href:"//".concat(d,"/oauth/logout?from=").concat(encodeURIComponent(window.location.href))},"Logout"),o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/:guild_id",exact:!0},o.a.createElement(U,null)),o.a.createElement(s.a,{path:"/:guild_id/:channel_id",exact:!0},o.a.createElement(P,null)),o.a.createElement(s.a,{path:"/",exact:!0},o.a.createElement(q,null)),o.a.createElement(s.a,{path:"*"},o.a.createElement("pre",null,"404")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=t(71);function F(){var e=Object(v.a)(["\n    body {\n        margin: 0;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n            sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    code {\n        font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n            monospace;\n    }\n\n    table {\n        border: 2px solid black;\n        width: 100%;\n\n        td {\n            border: 2px solid black;\n            text-align: center;\n        }\n        th {\n            background: black;\n            color: white;\n            text-align: center;\n        }\n    }\n"]);return F=function(){return e},e}var J=Object(B.a)(F()),D=new a.ApolloClient({cache:new a.InMemoryCache({dataIdFromObject:function(e){return r()(e)}}),credentials:"include",headers:{Accept:"application/json"},name:"stfu",uri:E});u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(J,null),o.a.createElement(a.ApolloProvider,{client:D},o.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.5d9b725c.chunk.js.map